(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"125":function(e,t,n){e.exports={"main":"main-module__main___1qDAH","menu":"main-module__menu___3e9j5","buttons":"main-module__buttons___2FmRs","switch":"main-module__switch___1ArsC","switch3":"main-module__switch3___3RLUU","space":"main-module__space___XVLxB"}},"127":function(e,t,n){e.exports={"main":"menu-module__main___FoDk0","title":"menu-module__title___3186l","content":"menu-module__content___1Q8lB"}},"152":function(e,t,n){"use strict";n.r(t);var o,r=n(0),a=n(1),i=n(139),l=n(12),c=n(69),s=n.n(c),u=n(142),p=n(143),f=n(140),m=n(115),d=n(120),b=n(153),h=n(71),_=n.n(h),g=n(73),y=n.n(g),j=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=Object(l.b)("globalStore")(o=function(e){function TabBar(){var e,t,n;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TabBar);for(var o=arguments.length,r=Array(o),a=0;a<o;a++)r[a]=arguments[a];return t=n=_possibleConstructorReturn(this,(e=TabBar.__proto__||Object.getPrototypeOf(TabBar)).call.apply(e,[this].concat(r))),n.state={"requestLogout":!1},n.handleLogout=function(){n.props.globalStore.logout(),n.requestLogout(!1)},n.requestLogout=function(e){n.setState({"requestLogout":e})},_possibleConstructorReturn(n,t)}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(TabBar,a["a"].Component),j(TabBar,[{"key":"render","value":function render(){return r.j.createElement(i.a,{"className":_.a.main},r.j.createElement(f.a,{"isOpened":this.state.requestLogout},r.j.createElement(m.a,null,"确认注销登录？"),r.j.createElement(d.a,null,r.j.createElement(u.a,{"onClick":this.requestLogout.bind(this,!1)},"取消"),r.j.createElement(u.a,{"onClick":this.handleLogout},"确认"))),r.j.createElement(p.a,{"src":y.a,"className":_.a.logo}),r.j.createElement(i.a,{"className":_.a.title,"style":{"paddingBottom":"10px"}},r.j.createElement(b.a,{"onClick":this.requestLogout.bind(this,!0),"size":"small"},"注销")))}}]),TabBar}())||o,E=n(145),O=n(148),C=n(141),w=n(146),k=n(147),x=n(125),P=n.n(x),S=n(127),T=n.n(S),L=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var R,I,D=function(e){function Menu(){return function menu_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Menu),function menu_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Menu.__proto__||Object.getPrototypeOf(Menu)).apply(this,arguments))}return function menu_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Menu,a["a"].Component),L(Menu,[{"key":"render","value":function render(){return r.j.createElement(i.a,{"className":T.a.main+" "+this.props.className},r.j.createElement(C.a,{"className":T.a.title},this.props.title),r.j.createElement(i.a,{"className":T.a.content},this.props.children))}}]),Menu}(),N=n(11),M=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function main_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var B,U=(R=Object(l.b)("globalStore"),Object(l.c)(I=R(I=function(e){function Main(){var e,t,n;!function main_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Main);for(var o=arguments.length,r=Array(o),a=0;a<o;a++)r[a]=arguments[a];return t=n=main_possibleConstructorReturn(this,(e=Main.__proto__||Object.getPrototypeOf(Main)).call.apply(e,[this].concat(r))),n.state={"update":!1},n.update=function(){n.setState({"update":!n.state.update})},n.getTimeString=function(e){var t=new Date;t.setTime(e);var o=t.getUTCHours()+"",r=t.getUTCSeconds()+"",a=t.getUTCMinutes()+"";return o=n.addZero(o),r=n.addZero(r),o+":"+(a=n.addZero(a))+":"+r},n.addZero=function(e){return 1===e.length?"0"+e:e},main_possibleConstructorReturn(n,t)}return function main_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Main,a["a"].Component),M(Main,[{"key":"componentDidMount","value":function componentDidMount(){var e=this;this.fetchStateRoutinely=setInterval(function(){e.props.globalStore.fetchRecordLiveState(),e.update()},1e3),this.fetchConfigRoutinely=setInterval(function(){e.props.globalStore.fetchConfig()},1e4)}},{"key":"componentWillUnmount","value":function componentWillUnmount(){clearInterval(this.fetchStateRoutinely),clearInterval(this.fetchConfigRoutinely)}},{"key":"render","value":function render(){var e=this,t=this.props.globalStore,n=t.recordLiveState,o=t.config;return r.j.createElement(i.a,{"className":P.a.main},r.j.createElement(D,{"title":"录制控制"},r.j.createElement(i.a,{"className":P.a.menu},r.j.createElement(i.a,{"className":P.a.buttons},n&&n.recording?r.j.createElement(u.a,{"onClick":N.k},r.j.createElement(E.a,{"prefixClass":"icon","value":"stop","size":"15","color":"green"}),"停止录制"):r.j.createElement(u.a,{"onClick":N.i},r.j.createElement(E.a,{"prefixClass":"icon","value":"start","size":"15","color":"red"}),"开始录制"),r.j.createElement(i.a,{"className":P.a.switch},r.j.createElement(C.a,null,"资源模式"),r.j.createElement(w.a,{"onChange":function onChange(t){Object(N.f)(t?0:1).then(function(t){e.props.globalStore.fetchConfig(),e.update()})},"checked":!(!o||"1"!=o.configs.misc.resource_mode),"disabled":n&&n.recording}))),r.j.createElement(i.a,{"className":P.a.buttons},r.j.createElement(C.a,null," 已录制时间"),r.j.createElement(C.a,null,n&&n.recording?this.getTimeString((new Date).getTime()-n.recordTime):"00:00:00"," ")))),r.j.createElement(D,{"title":"课程设置","className":P.a.space},r.j.createElement(i.a,{"className":P.a.buttons},r.j.createElement(i.a,{"className":P.a.switch3},r.j.createElement(C.a,null,"课程名称"),r.j.createElement(k.a,{"onInput":function onInput(t){Object(N.e)(t.target.value).then(function(t){e.props.globalStore.fetchConfig(),e.update()})},"name":"value","value":o&&o.recordName?o.recordName:"","type":"text"})),r.j.createElement(i.a,null,r.j.createElement(C.a,null,"分段时长"),r.j.createElement(O.a,{"min":10,"max":1200,"onChange":function onChange(e){Object(N.g)(e)},"type":"number","value":o&&o.sectionTime?o.sectionTime:45}),r.j.createElement(C.a,null,"分钟")))),r.j.createElement(D,{"title":"直播控制","className":P.a.space},r.j.createElement(i.a,{"className":P.a.menu},r.j.createElement(i.a,{"className":P.a.buttons},n&&n.living?r.j.createElement(u.a,{"onClick":N.j},r.j.createElement(E.a,{"onClick":function onClick(){console.log("okk"),Object(N.j)()},"prefixClass":"icon","value":"stop","size":"15","color":"green"}),"停止直播"):r.j.createElement(u.a,{"onClick":N.h},r.j.createElement(E.a,{"prefixClass":"icon","value":"start","size":"15","color":"red"}),"本地直播"),n&&n.remoteLiving?r.j.createElement(u.a,{"onClick":N.d.bind(this,0)},r.j.createElement(E.a,{"prefixClass":"icon","value":"stop","size":"15","color":"green"}),"停止直播"):r.j.createElement(u.a,{"onClick":N.d.bind(this,1)},r.j.createElement(E.a,{"prefixClass":"icon","value":"start","size":"15","color":"red"}),"远程直播")),r.j.createElement(i.a,{"className":P.a.buttons},r.j.createElement(C.a,null," 已直播时间"),r.j.createElement(C.a,null,n&&n.living?this.getTimeString((new Date).getTime()-n.liveTime):"00:00:00"," ")))))}}]),Main}())||I)||I),q=n(22),z=n(138),A=n(149),H=n(154),F=n(150),J=n(8),W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Z=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function login_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var K,Q=Object(l.b)("globalStore")(B=Object(l.c)(B=function(e){function Login(){var e,t,n;!function login_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Login);for(var o=arguments.length,r=Array(o),a=0;a<o;a++)r[a]=arguments[a];return t=n=login_possibleConstructorReturn(this,(e=Login.__proto__||Object.getPrototypeOf(Login)).call.apply(e,[this].concat(r))),n.state={"loading":!0,"form":{"password":"","name":"","keepLogin":!0}},n.handleEnterKey=function(e){var t=n.props.globalStore.user;13===e.keyCode&&(t||n.handleLogin())},n.handleLogin=function(){Object(N.b)(n.state.form).then(function(e){1===e.data.code?(n.props.globalStore.login(e.data.data),n.setState({"form":{}}),n.state.form.keepLogin&&(Object(q.c)({"key":"user","data":JSON.stringify(e.data.data)}),Object(q.c)({"key":"loginTime","data":(new Date).getTime()}))):J.a.error("管理员账号或密码有误")})},login_possibleConstructorReturn(n,t)}return function login_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Login,a["a"].Component),Z(Login,[{"key":"componentDidMount","value":function componentDidMount(){document.addEventListener("keydown",this.handleEnterKey);var e=Object(q.a)("user");if(null!=e){var t=Object(q.a)("loginTime");(new Date).getTime()-t<864e5&&this.props.globalStore.login(e)}this.setState({"loading":!1})}},{"key":"componentWillUnmount","value":function componentWillUnmount(){document.removeEventListener("keydown",this.handleEnterKey)}},{"key":"render","value":function render(){var e=this,t=this.props.globalStore.user;return r.j.createElement(f.a,{"closeOnClickOverlay":!1,"isOpened":!t&&!this.state.loading},r.j.createElement(m.a,null,"请先登录"),r.j.createElement(z.a,null,r.j.createElement(A.a,null,r.j.createElement(H.a,{"name":"name","title":"账号","type":"text","onChange":function onChange(t){return e.setState({"form":W({},e.state.form,{"name":t})})},"value":this.state.form.name,"placeholder":"请输入账号"}),r.j.createElement(H.a,{"name":"password","value":this.state.form.password,"title":"密码","type":"password","placeholder":"请输入密码","onChange":function onChange(t){return e.setState({"form":W({},e.state.form,{"password":t})})}}),r.j.createElement(F.a,{"onChange":function onChange(t){return e.setState({"form":W({},e.state.form,{"keepLogin":t})})},"checked":this.state.form.keepLogin,"title":"保持登录"}))),r.j.createElement(d.a,null," ",r.j.createElement(u.a,{"onClick":this.handleLogin},"登录")," "))}}]),Login}())||B)||B,V=n(151),X=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),G=function get(e,t,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,t);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:get(r,t,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0};function index_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Y=Object(l.b)("globalStore")(K=Object(l.c)(K=function(e){function Index(){var e,t,n;!function index_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Index);for(var o=arguments.length,r=Array(o),a=0;a<o;a++)r[a]=arguments[a];return t=n=index_possibleConstructorReturn(this,(e=Index.__proto__||Object.getPrototypeOf(Index)).call.apply(e,[this].concat(r))),n.config={"navigationBarTitleText":"首页"},index_possibleConstructorReturn(n,t)}return function index_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Index,a["a"].Component),X(Index,[{"key":"render","value":function render(){this.props.globalStore.user;return r.j.createElement(i.a,{"className":s.a.main},r.j.createElement(i.a,null,r.j.createElement(V.a,null),r.j.createElement(v,null),r.j.createElement(U,null),r.j.createElement(Q,null)))}},{"key":"componentDidMount","value":function componentDidMount(){G(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidMount",this)&&G(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidMount",this).call(this)}},{"key":"componentDidShow","value":function componentDidShow(){G(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidShow",this)&&G(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidShow",this).call(this)}},{"key":"componentDidHide","value":function componentDidHide(){G(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidHide",this)&&G(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidHide",this).call(this)}}]),Index}())||K)||K;t.default=Y},"69":function(e,t,n){e.exports={"main":"index-module__main___2J0dk"}},"71":function(e,t,n){e.exports={"main":"tabbar-module__main___3b5FN","logo":"tabbar-module__logo___2t4rC","title":"tabbar-module__title___c_Rp7"}},"73":function(e,t,n){e.exports=n.p+"static/images/logo.png"}}]);